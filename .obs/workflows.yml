refresh_factory:
  filters:
    branches:
      only: main
    event: push
  steps:
  - trigger_services:
      package: endpoint-copier-operator
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: endpoint-copier-operator-image
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: endpoint-copier-operator-chart
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-agent-image
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-chart
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-controller-image
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-dashboard-extension-chart
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-debug-echo-discovery-handler-image
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-onvif-discovery-handler-image
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-opcua-discovery-handler-image
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-udev-discovery-handler-image
      project: isv:SUSE:Edge:Factory
  - trigger_services:
      package: akri-webhook-configuration-image
      project: isv:SUSE:Edge:Factory
staging_build:
  filters:
    event: pull_request
  steps:
  - branch_package:
      source_package: endpoint-copier-operator
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: endpoint-copier-operator-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: endpoint-copier-operator-chart
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-agent-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-chart
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-controller-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-dashboard-extension-chart
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-debug-echo-discovery-handler-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-onvif-discovery-handler-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-opcua-discovery-handler-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-udev-discovery-handler-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
  - branch_package:
      source_package: akri-webhook-configuration-image
      source_project: isv:SUSE:Edge:Factory
      target_project: isv:SUSE:Edge:Factory:Staging
